


            <main class="account-page">

  <!-- top profile section -->
  <section class="profile-hero">
    <div class="profile-banner" aria-hidden="true"></div>

    <!-- photo and profile info -->
    <div class="wrap profile-hero-inner">
      <div class="profile-photo-wrap">
        <img src="{{user.profile_picture}}" alt="Profile photo">
        <label class="photo-change">
          <form
      action="/me/upload_picture"
      method="POST"
      enctype="multipart/form-data"
    >
      <input type="file" name="avatar" />
      <button type="submit">Upload</button>
    </form>
        </label>
      </div>

      <!-- user name + logout -->
      <div class="profile-meta">
        <span class="profile-meta-label">Profile</span>
        <h1 class="profile-name">{{user.username}}</h1>
        <p class="profile-stats">My private collection</p>

        <div class="profile-actions">
          <button class="btn logout-btn" onclick="window.location.href='/auth/logout'">Logout</button>
          {{#if user.is_admin}}
            <button onclick="window.location.href='/me/admin'">Admin Menu</button>
          {{/if}}
        </div>
      </div>
    </div>
  </section>

  <!-- playlists section -->
  <section class="playlist-gallery">
    <div class="wrap">
      <h2 class="playlist-heading">Playlists</h2>

      <!-- playlist cards -->
      <div class="playlist-grid">
        {{#each playlists}}
          <div class="pl-card">

            <!-- small delete button -->
            <form
            action="/playlists/delete"
            method="POST"
            style="display:inline;"
          >
            <input type="hidden" name="playlist_id" value="{{playlist_id}}" />
            <button type="submit" class="btn btn-danger">Delete</button>
          </form>

            <!-- playlist cover -->
            <a class="pl-cover" href="/playlists/{{playlist_id}}">
              {{#if cover_url}}
                <img src="{{cover_url}}" alt="{{#if title}}{{title}}{{else}}Untitled Playlist{{/if}}">
              {{else}}
                <span class="cover-fallback" aria-hidden="true"></span>
              {{/if}}
            </a>

            <!-- play circle icon -->
            <a class="pl-play" href="/playlists/{{playlist_id}}" aria-label="Play {{#if title}}{{title}}{{else}}Untitled Playlist{{/if}}">
              <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
                <polygon points="6,4 20,12 6,20" fill="currentColor"></polygon>
              </svg>
            </a>



            <!-- title + description -->
            <div class="pl-meta">
              <a class="pl-title" href="/playlists/{{playlist_id}}">
                {{#if title}}
                  {{title}}
                {{else}}
                  Untitled Playlist
                {{/if}}
              </a>
              <p class="pl-desc">
                {{#if description}}
                  {{description}}
                {{else}}
                  Your day in a playlist.
                {{/if}}
              </p>
            </div>
          </div>
        {{/each}}
      </div>

      <!-- create new playlist form -->
      <form action="/playlists" method="post" id="createPlaylistForm" class="playlist-form">
        <h3 class="playlist-form-heading">Create new playlist</h3>
        <label for="title" class="playlist-form-label">Title</label>
        <input type="text" name="title" id="title" placeholder="Enter playlist name" required>
        <input type="submit" value="Create Playlist" class="btn">
      </form>
    </div>
  </section>
</main>
